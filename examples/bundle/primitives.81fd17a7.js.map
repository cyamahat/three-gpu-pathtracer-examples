{"mappings":"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","sources":["example/primitives.js","example/utils/getScaledSettings.js"],"sourcesContent":["import { Scene, SphereGeometry, MeshStandardMaterial, Mesh, BoxGeometry, PerspectiveCamera, ACESFilmicToneMapping, WebGLRenderer } from 'three';\nimport { WebGLPathTracer, GradientEquirectTexture } from '..';\nimport { getScaledSettings } from './utils/getScaledSettings.js';\n\n// init scene, renderer, camera, controls, etc\nconst scene = new Scene();\nconst sphereGeom = new SphereGeometry( 0.49, 64, 32 );\nconst ball1 = new Mesh(\n\tsphereGeom,\n\tnew MeshStandardMaterial( {\n\t\tcolor: '#e91e63',\n\t\troughness: 0.25,\n\t\tmetalness: 1,\n\t} )\n);\nconst ball2 = new Mesh(\n\tsphereGeom,\n\tnew MeshStandardMaterial( {\n\t\tcolor: '#ff9800',\n\t\troughness: 0.1,\n\t\tmetalness: 1,\n\t} )\n);\nconst ball3 = new Mesh(\n\tsphereGeom,\n\tnew MeshStandardMaterial( {\n\t\tcolor: '#2196f3',\n\t\troughness: 0.2,\n\t\tmetalness: 1,\n\t} )\n);\nconst ground = new Mesh(\n\tnew BoxGeometry( 3.5, 0.1, 1.5 ),\n\tnew MeshStandardMaterial(),\n);\n\nball1.position.x = - 1;\nball3.position.x = 1;\nground.position.y = - 0.54;\nscene.add( ball1, ball2, ball3, ground );\n\n// set the environment map\nconst texture = new GradientEquirectTexture();\ntexture.bottomColor.set( 0xffffff );\ntexture.bottomColor.set( 0x666666 );\ntexture.update();\nscene.environment = texture;\nscene.background = texture;\n\nconst camera = new PerspectiveCamera();\ncamera.position.set( 0, 1, - 5 );\ncamera.lookAt( 0, 0, 0 );\n\nconst renderer = new WebGLRenderer( { antialias: true } );\nrenderer.toneMapping = ACESFilmicToneMapping;\ndocument.body.appendChild( renderer.domElement );\n\nconst settings = getScaledSettings();\nconst pathTracer = new WebGLPathTracer( renderer );\npathTracer.renderScale = settings.renderScale;\npathTracer.tiles.setScalar( settings.tiles );\npathTracer.setScene( scene, camera );\n\nonResize();\n\nanimate();\n\nwindow.addEventListener( 'resize', onResize );\n\nfunction animate() {\n\n\t// if the camera position changes call \"ptRenderer.reset()\"\n\trequestAnimationFrame( animate );\n\n\t// update the camera and render one sample\n\tpathTracer.renderSample();\n\n}\n\nfunction onResize() {\n\n\t// update rendering resolution\n\tconst w = window.innerWidth;\n\tconst h = window.innerHeight;\n\n\trenderer.setSize( w, h );\n\trenderer.setPixelRatio( window.devicePixelRatio );\n\n\tconst aspect = w / h;\n\tcamera.aspect = aspect;\n\tcamera.updateProjectionMatrix();\n\n\tpathTracer.setScene( scene, camera );\n\n}\n","export function getScaledSettings() {\n\n\tlet tiles = 3;\n\tlet renderScale = Math.max( 1 / window.devicePixelRatio, 0.5 );\n\n\t// adjust performance parameters for mobile\n\tconst aspectRatio = window.innerWidth / window.innerHeight;\n\tif ( aspectRatio < 0.65 ) {\n\n\t\ttiles = 4;\n\t\trenderScale = 0.5 / window.devicePixelRatio;\n\n\t}\n\n\treturn { tiles, renderScale };\n\n}\n"],"names":[],"version":3,"file":"primitives.81fd17a7.js.map","sourceRoot":"/__parcel_source_root/"}